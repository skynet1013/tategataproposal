システム要件定義書（ドラフト案）
1. はじめに
システム名（仮）： Vertical Drama AI Planner

目的: 個人クリエイターが、バズる要素（視聴維持率・保存数など）を考慮した縦型ショートドラマの企画書・構成案・絵コンテを短時間で作成する。

スコープ: エンタメ領域（ドラマ）に特化。Webブラウザで動作するSaaS形式。

2. システム概要
ターゲット: 個人クリエイター（フェーズ1）、将来的には制作会社。

課金モデル: 月額サブスクリプション（生成回数制限ありなど）。

主要技術:

フロント/バックエンド: Next.js / Python (FastAPI等)

テキスト生成AI: GPT-4o または Claude 3.5 Sonnet（脚本力重視）

画像生成AI: DALL-E 3 または Stable Diffusion API（絵コンテ生成）

3. 機能要件（ドラフト）
3.1 企画生成機能（コア機能）
ユーザーは以下のステップで企画を作成します。

① 企画条件入力（インプット）

基本情報: タイトル案（任意）、ターゲット視聴者層

ジャンル選択: 恋愛 / サスペンス / ホラー / コメディ

登場人物設定: 人数、性別、関係性（例：3人、男1女2、三角関係）

キーワード/あらすじ: 自由記述（例：「学校」「復讐」「意外な結末」）

バズる目標フィルター（「バズ定義」の選択）:

「視聴維持率30秒以上」モード: 冒頭3秒のフックと、中盤の展開変化を重視した構成にする。

「保存数50以上」モード: 結末に役立つ情報や、見返したくなる伏線を重視する。

「いいね100以上」モード: 共感性やエモさを重視したセリフ回しにする。

② AI生成プロセス（内部処理）

入力された「目標フィルター」に基づき、システム側で保持している「ヒットの法則プロンプト」を適用。

シーンごとの脚本（セリフ・ト書き）を生成。

各シーンの描写を元に、画像生成AIでイメージボード（絵コンテ）を作成。

③ 企画書出力（アウトプット） 以下の項目が構造化された画面を表示（およびPDF/CSVエクスポート）。

企画概要: タイトル、コンセプト、ターゲット

脚本（スクリプト）: シーン番号、秒数目安、場所、セリフ、ト書き

絵コンテ: 各シーンに対応した挿絵（イメージ画像）

3.2 履歴・管理機能
過去に生成した企画の一覧表示、再編集。

お気に入り（保存）機能。

3.3 管理者機能
ユーザー管理（課金ステータス確認）。

プロンプト管理機能: 「バズるロジック」のルール（プロンプト）を管理画面から調整できる機能（トレンドが変わった際にエンジニア以外でも調整可能にするため）。

4. 業務フロー案（Mermaid）
コード スニペット

sequenceDiagram
    actor User as クリエイター
    participant UI as 管理画面
    participant Logic as バックエンド
    participant LLM as テキスト生成AI
    participant ImgGen as 画像生成AI

    User->>UI: 1. 条件入力 (ジャンル:ホラー, 目標:維持率30秒)
    UI->>Logic: 生成リクエスト
    Logic->>Logic: 「維持率重視」のプロンプトを選択
    Logic->>LLM: 2. 脚本・構成案の生成指示
    LLM-->>Logic: 脚本データ返却
    
    loop シーン数分繰り返し
        Logic->>ImgGen: 3. シーン描写から画像生成
        ImgGen-->>Logic: 画像URL返却
    end
    
    Logic-->>UI: 企画書データ（テキスト＋画像）
    UI-->>User: 4. 企画書・絵コンテ表示
    User->>UI: PDFダウンロード